# 🚀 立即开始使用 WeRead 插件

## 📦 第一步：安装新版本插件

新版本已构建完成，位置：
```
build/distributions/WeRead-1.0.0.zip
```

### 安装步骤

1. **卸载旧版本**（如果已安装）
   - `Settings` → `Plugins` → `Installed`
   - 找到 "WeRead" → 点击 `⚙️` → `Uninstall`
   - 重启 Android Studio

2. **安装新版本**
   - `Settings` → `Plugins` → `⚙️` → `Install Plugin from Disk...`
   - 选择 `build/distributions/WeRead-1.0.0.zip`
   - 点击 `OK`
   - 重启 Android Studio

---

## ⚠️ 第二步：解决 JCEF 问题

如果安装后看到 "JCEF is not supported" 错误，按以下步骤操作：

### 快速解决（5 分钟）

1. **打开 Runtime 选择器**
   - 按 `⌘⇧A` (macOS) 或 `Ctrl+Shift+A` (Windows/Linux)
   - 输入：`Choose Boot Java Runtime for the IDE`
   - 回车

2. **选择支持 JCEF 的版本**
   - 在列表中找到包含 `jcef` 字样的版本
   - 例如：`17.0.11-jcef-b1207.24` 或 `21.0.x-jcef-bxxx`
   - 点击选择

3. **如果没有 JCEF 版本**
   - 点击 `Download...` 按钮
   - 选择最新的带 JCEF 的版本下载
   - 下载完成后选择该版本

4. **重启 Android Studio**
   - 点击 `OK`
   - 重启 IDE

5. **验证**
   - 重启后，点击右侧工具栏的 "WeRead" 图标
   - 应该能看到微信读书网页了！✅

---

## 🎯 新版本改进

### 1. 更好的错误提示

现在如果 JCEF 不可用，会显示：
- ⚠️ 清晰的错误说明
- 📋 详细的解决步骤
- 🔘 "在浏览器中打开微信读书" 按钮（临时方案）

### 2. 兼容性提升

- ✅ 支持最新的 Android Studio AI-251
- ✅ 支持 Build 223 到 251 的所有版本

### 3. 更详细的日志

- 插件会记录 JCEF 支持状态
- 方便排查问题

---

## 📸 预期效果

### 成功启用 JCEF 后

```
┌─────────────────────────────────────┐
│  WeRead 工具窗口                     │
├─────────────────────────────────────┤
│                                     │
│  [微信读书网页正常显示]              │
│                                     │
│  - 可以登录                          │
│  - 可以浏览书架                      │
│  - 可以阅读书籍                      │
│  - 可以使用方向键翻页                │
│                                     │
└─────────────────────────────────────┘
```

### JCEF 未启用时

```
┌─────────────────────────────────────┐
│  WeRead 工具窗口                     │
├─────────────────────────────────────┤
│                                     │
│  ⚠️ JCEF 不可用                     │
│                                     │
│  解决方案：                          │
│  1. 使用 JetBrains Runtime (JBR)   │
│  2. 启用 JCEF                       │
│  3. 或在浏览器中打开                │
│                                     │
│  [在浏览器中打开微信读书] 按钮       │
│                                     │
└─────────────────────────────────────┘
```

---

## 🔍 验证 JCEF 是否已启用

### 方法 1：查看 About 信息

1. `Help` → `About`
2. 查看 Runtime version
3. 确认包含 `jcef` 字样

例如：
```
Runtime version: 17.0.11+1-b1207.24 aarch64 (JetBrains s.r.o)
```

如果看到 `jcef`，说明已启用。

### 方法 2：查看插件窗口

1. 打开 WeRead 工具窗口
2. 如果看到微信读书网页 → ✅ 已启用
3. 如果看到错误提示 → ❌ 未启用

### 方法 3：查看日志

1. `Help` → `Show Log in Finder/Explorer`
2. 搜索 `JCEF supported`
3. 查看值：
   - `true` → ✅ 已启用
   - `false` → ❌ 未启用

---

## 💡 使用技巧

### 1. 调整窗口大小

- 拖动工具窗口边缘调整大小
- 建议宽度：600-900px
- 建议高度：根据屏幕调整

### 2. 移动窗口位置

- 可以将工具窗口拖到左侧、右侧、底部
- 推荐放在右侧，方便边写代码边看书

### 3. 快捷键

- 在微信读书网页中可以使用方向键翻页
- 使用鼠标滚轮滚动页面

### 4. 登录状态

- 登录信息会保存在浏览器缓存中
- 下次打开无需重新登录

---

## ❓ 常见问题

### Q: 为什么需要 JCEF？

**A**: JCEF 是一个嵌入式浏览器引擎，让插件可以在 IDE 内显示网页。没有它就无法在 IDE 内显示微信读书。

### Q: 切换 Runtime 安全吗？

**A**: 完全安全。JetBrains Runtime 是 JetBrains 官方提供的 Java Runtime，专门为 IDE 优化。

### Q: 会影响 Android Studio 的其他功能吗？

**A**: 不会。切换到带 JCEF 的 Runtime 只会增加功能，不会影响现有功能。

### Q: 如果实在无法启用 JCEF 怎么办？

**A**: 可以使用插件提供的"在浏览器中打开"按钮，在外部浏览器中使用微信读书。

---

## 📚 更多帮助

- **详细的 JCEF 解决方案**: [JCEF问题解决指南.md](JCEF问题解决指南.md)
- **完整安装指南**: [INSTALL.md](INSTALL.md)
- **使用说明**: [USAGE.md](USAGE.md)
- **快速参考**: [快速参考.md](快速参考.md)

---

## ✅ 总结

1. ✅ 安装新版本插件
2. ✅ 启用 JCEF（选择带 JCEF 的 Runtime）
3. ✅ 重启 Android Studio
4. ✅ 打开 WeRead 工具窗口
5. ✅ 开始阅读！📚

**预计完成时间**: 5-10 分钟

---

**祝你使用愉快！边写代码边看书，效率加倍！** 💻📚✨
